SET(TARGET_DIR "bin/${FLAVOR}/modules")

INCLUDE_DIRECTORIES(../include)

INCLUDE_DIRECTORIES(${LUA_INC_DIR})
LINK_DIRECTORIES (${LUA_LIB_DIR})

INCLUDE_DIRECTORIES(${IM_INC_DIR})
LINK_DIRECTORIES (${IM_LIB_DIR})

INCLUDE_DIRECTORIES(${CD_INC_DIR})
LINK_DIRECTORIES (${CD_LIB_DIR})

INCLUDE_DIRECTORIES(${IUP_INC_DIR})
LINK_DIRECTORIES (${IUP_LIB_DIR})

ADD_DEFINITIONS(-D_CRT_SECURE_NO_DEPRECATE)
ADD_DEFINITIONS(${IUP_FLAGS})

# iuplua plugin
SET(TARGET_NAME "iup")

SET(SOURCE_FILES iup.c 
	iup.def)
SET(LIBS ${IM_LIBS} ${CD_LIBS} ${IUP_LIBS} ${GL_LIBS})

SET(CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS} /NODEFAULTLIB:LIBCMT.lib")

BUILD_LUA_PLUGIN()

